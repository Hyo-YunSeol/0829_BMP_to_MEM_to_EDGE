<img width="300" height="300" alt="brainct_001" src="https://github.com/user-attachments/assets/c5e6a644-0b51-4f33-afaf-4bc3b5ba7eb1" />

# BMP 이미지 그레이스케일, MEM, edge 변환 소프트웨어
## 문서 관리 정보
- 문서 ID: BMP-DO178C-001
- 버전: 1.0
- 날짜: 2025년 8월 28일
- 시스템: 항공 디스플레이 처리 장치

## 1. 소프트웨어 인증 계획서 (PSAC)
### 1.1 소프트웨어 개요
- 소프트웨어 항목: BMP 이미지 그레이스케일 및 엣지 검출 변환기 MEM 출력 모듈
  - 기능:
  - 24비트 컬러 BMP 이미지를 8비트 그레이스케일로 변환
  - 변환된 그레이스케일 이미지에 소벨 필터 적용하여 엣지 이미지 생성
  - 8비트 그레이스케일 BMP 파일, 엣지 검출 BMP 파일, Verilog 메모리 초기화용 MEM 파일 동시 생성

- 출력 파일명:
  - 그레이스케일 BMP: "output_grayscale.bmp"
  - 엣지 BMP: "output_edge.bmp"
  - MEM 파일: "output_image.mem"
  - 중요도 레벨: DAL-D
  - 대상 시스템: FPGA/ASIC 설계, RTL 시뮬레이션, 항공 및 임베디드 디스플레이

### 1.2 소프트웨어 생명주기 프로세스
- 계획 수립: 기능 범위(그레이스케일, 엣지, MEM) 설정 및 검증 계획 포함
- 개발: BMP 입출력, 색상 변환, 엣지 검출, 출력 파일 생성 모듈 개발
- 검증: 기능 정상 동작, 포맷 적합성, 오류 처리 등 테스트 수행
- 형상관리: 소스 코드, 문서, 테스트 케이스 일괄 관리
- 품질보증: 메모리 관리, 오류 처리 표준 준수

### 1.3 소프트웨어 생명주기 데이터
- 제출 문서: PSAC, SRS, SDS, SCS, SVP, SCMP 및 각종 테스트 결과 보고서(3개 출력 포함)

## 2. 소프트웨어 요구사항 표준 (SRS)
### 2.1 상위레벨 요구사항
- HLR-001:
  - BMP 입력 파일 형식, 크기 검증 (24비트, 630x630 픽셀)
- HLR-002:
  - RGB → 8비트 그레이스케일 변환 (표준 휘도 공식)

- HLR-003:
  - 8비트 그레이스케일 BMP 파일 생성 (팔레트 포함)

- HLR-004:
  - 메모리 관리 및 오류 처리

- HLR-005:
  - 엣지 검출
  - 소벨 필터로 엣지 강도 계산
  - 엣지 이미지 8비트 BMP 저장
- HLR-006:
  - MEM 파일 생성
  - 그레이스케일 픽셀을 2자리 16진수 ASCII 문자열로 MEM 파일 저장
  - FPGA/ASIC 메모리 초기화 및 시뮬레이션 환경에서 활용 가능

### 2.2 저수준 요구사항
- LLR-001~004:
  - BMP 읽기, 그레이스케일 변환, BMP 작성 등

- LLR-005:
  - MEM 파일 ASCII 16진수 저장 및 오류 처리

- LLR-006:
  - 소벨 필터 적용(3x3 윈도우, 경계 처리) 및 엣지 값 클램핑 (0~255)

- LLR-007:
  - 엣지 BMP 파일 헤더 및 데이터 형식 준수

## 3. 소프트웨어 설계 표준 (SDS)
### 3.1 아키텍처 설계
~~~
BMP__Processor
├─── File_Handler
│    ├─── Input_Validator
│    ├─── Output_Generator
│    ├─── MEM_File_Generator
│    └─── EdgeBMP_Generator
├─── Image_processor
│    ├─── Color_Converter
│    ├─── Edge_Detector
│    └─── Memory_Manager
~~~
### 3.2 상세 설계
- main():
  - 전체 프로세스 흐름 및 에러 처리

- rgbToGrayscale():
  - RGB → 그레이스케일 변환

- findEdges():
  - 소벨 필터 엣지 검출 구현

- MEM 파일 생성부:
  - 16진수 ASCII 저장
  - 오류 검사 포함

- BMP 파일 생성부:
  - 8비트 그레이스케일
  - 엣지 이미지 BMP 출력

### 3.3 인터페이스 설계
- 입력:
  - 24비트 BMP (630x630)

- 출력:
  - "output_grayscale.bmp" (8비트 그레이스케일 BMP)
  - "output_edge.bmp" (8비트 엣지 검출 BMP)
  - "output_image.mem" (MEM ASCII 텍스트)

## 4. 소프트웨어 코드 표준 (SCS)
### 4.1 코딩 규칙
- PascalCase: 구조체
- camelCase: 함수 및 변수
- 중괄호 K&R 스타일, 4칸 들여쓰기
- 상세 주석 포함, 특히 MEM/엣지 함수 명확히 구분

### 4.2 품질 기준
- 명확한 이름 및 주석
- 예외 처리 완료, 메모리 누수 없음
- 모듈화, 유지보수 용이성 보장

## 5. 소프트웨어 검증 계획 (SVP)
### 5.1 검증 목표
- BMP 처리
- 엣지 검출
- MEM 생성 기능 완전 검증
- 정확한 출력 및 오류 처리 확인

### 5.2 검증 방법
- 정적 분석, 코드 리뷰
- 단위 및 통합 테스트
- 출력 파일 포맷 및 내용 검증

### 5.3 테스트 케이스
- TC-001: 정상 BMP 입력 → 그레이스케일 BMP 출력

- TC-006: MEM 파일 정상 생성 및 데이터 포맷 확인

- TC-007: 소벨 엣지 검출 BMP 정상 생성 및 결과 검증

- TC-004, TC-005: 메모리 및 I/O 오류 처리 테스트

### 5.4 커버리지 기준
- 명령문
- 분기 100%
- MC/DC 미적용 (DAL-D 수준)

## 6. 소프트웨어 형상관리 계획 (SCMP)
### 6.1 형상관리 목표
- 소스, 문서, 테스트 사례 변경 전방위 관리
- MEM, 엣지 검출 기능 업데이트 내역 상세 관리

### 6.2 형상 식별
- 관련 소스코드, 문서, 테스트 케이스 일체

### 6.3 변경 관리
- 변경 요청 → 영향 분석 → 승인 → 구현 → 테스트 → 문서화

## 7. 추적성 매트릭스
 | 요구사항 ID |  설계 요소 | 코드 구현 | 테스트 케이스 |
 |-----|-----|-----|-----|
| HLR-001 |	Input_Validator |	BMP 입력 파일 검증 함수 |	TC-001, TC-002, TC-003 |
| HLR-002	| Color_Converter	| rgbToGrayscale() 함수	| TC-001 |
| HLR-003 |	Output_Generator |	BMP 그레이스케일 이미지 생성 |	TC-001|
| HLR-004	| Memory_Manager	| malloc(), free() 관리 |	TC-004 |
| HLR-005	| Error_Handler	| 파일 I/O 및 메모리 오류 처리 |	TC-002~TC-005 |
|HLR-006	| MEM_File_Generator	| MEM 파일 생성 함수	| TC-006 |
|HLR-007	| Edge_Detector	| findEdges(), 엣지 BMP 출력	| TC-007 |

## 8. 인증 결론
- 본 소프트웨어는 DO-178C DAL-D 수준에서 요구하는 BMP 그레이스케일 변환, MEM 파일 출력, 소벨 필터 엣지 검출 기능을 완전하게 구현하였으며,
계획된 검증 절차를 통해 모든 기능의 정확성, 신뢰성, 오류 처리 능력을 입증하였다.
- MEM 파일과 엣지 검출 BMP는 항공기 및 임베디드 영상 처리 하드웨어 설계 및 시뮬레이션에 즉시 활용 가능함을 인증한다.

